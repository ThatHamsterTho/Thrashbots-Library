<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BimTi Thrashbots Controller &amp; RF library: RF_Handler/RF24Handler_Transmitter/RF24Handler_Transmitter.ino</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BimTi Thrashbots Controller &amp; RF library
   </div>
   <div id="projectbrief">Used for TrashBots as a general library for the Controller PCB &amp; RF communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">RF_Handler/RF24Handler_Transmitter/RF24Handler_Transmitter.ino</div></div>
</div><!--header-->
<div class="contents">
<p >This is an example of how to use the RFHanlder class as a transmitter it defines the pins the nRF24l01 is connected to, in this case an Arduino 2560 is used Then it passes these values and the name of the device to the <a class="el" href="class_r_f_handler.html" title="RFHandler class This class is used to easily control the RF24 module. Can be used to implement a cust...">RFHandler</a> constructor. Then in the setup it calls the <a class="el" href="class_c_t_r_l.html#a17e15dc383511b4411b4fa6e25752317" title="Initializes the radio object.">CTRL::begin()</a> is called and the name of the receiver is passed to open a link to the receiver. After the nRF24l01 module is initialized the <a class="el" href="class_r_f_handler.html#a66a080a527987ad75fdaad87ca6e0a97" title="switches between transmitting on the RF24 module or receiving.">RFHandler::toggleTransferMode()</a> is called to indicate that the module is to be used as a transmitter. In the loop it creates a <a class="el" href="union_r_f___p_a_c_k_a_g_e.html" title="RF_PACKAGE union.">RF_PACKAGE</a> packet and sets the Package_Header, this is done by adding the size of the packet to the packet_ID Afterwards the data is filled and transmitted.</p>
<div class="fragment"><div class="line">#include &lt;BimTi_RFHandler.h&gt;</div>
<div class="line"> </div>
<div class="line">// define a packet ID for the RF_PACKAGE</div>
<div class="line">#define packet_ID 0x10000000</div>
<div class="line"> </div>
<div class="line">// ATMega2560 CE &amp; CSN pins</div>
<div class="line">#define CE    48</div>
<div class="line">#define CSN   53</div>
<div class="line">// Setup the RFHandler. The device name in this case is BattleBotTeam__Tx</div>
<div class="line">RFHandler RH(CE, CSN, &quot;BattleBotTeam__Tx&quot;);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">    Serial.begin(115200);</div>
<div class="line">    // initialize the nRF24l01 module and open a link to BattleBotTeam__Rx</div>
<div class="line">    if(!RH.begin(&quot;BattleBotTeam__Rx&quot;)){</div>
<div class="line">        while(1);</div>
<div class="line">    }</div>
<div class="line">    RH.toggleTransferMode(true);    // Set the nRF24l01 to transmit mode.</div>
<div class="line"> </div>
<div class="line">    Serial.println(&quot;starting listening&quot;);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">    // create a RF_PACKAGE packet.</div>
<div class="line">    RF_PACKAGE packet;</div>
<div class="line">    // this sets the package_header to 0x10000028</div>
<div class="line">    packet.Package_Header = packet_ID + RF_DATA_SIZE;</div>
<div class="line">    for(int i = 0; i &lt; RF_DATA_SIZE; i++){</div>
<div class="line">        // this sets the data to the value of i.</div>
<div class="line">        packet.RF_DATA[i] = i;</div>
<div class="line">    }</div>
<div class="line">    // This transmits the packet to the receiver</div>
<div class="line">    RH.transmitPacket(&amp;packet);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
